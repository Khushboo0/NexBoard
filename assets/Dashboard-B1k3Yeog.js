import{j as e,N as f,r as c,a as g,L as x,u,b,e as y,O as j}from"./index-i2BG5n6s.js";const p=()=>e.jsx("span",{children:"🏠"}),v=()=>e.jsx("span",{children:"👥"}),w=()=>e.jsx("span",{children:"⚙️"}),N=()=>e.jsx("span",{children:"👤"}),h=({currentUser:s,isCollapsed:i=!1,onToggleSidebar:n,onCloseSidebar:l,darkMode:t})=>{var r;const a=[{name:"Dashboard",to:"/dashboard",icon:e.jsx(p,{})},{name:"Users",to:"/dashboard/users",icon:e.jsx(v,{})},{name:"Settings",to:"/dashboard/settings",icon:e.jsx(w,{})},{name:"Profile",to:"/dashboard/profile",icon:e.jsx(N,{})}];return e.jsxs("div",{className:`h-screen flex flex-col ${t?"bg-gray-800":"bg-white"} border-r ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[e.jsx("div",{className:"flex items-center",children:!i&&e.jsx("span",{className:"ml-2 text-lg font-semibold",children:"Admin Panel"})}),n&&e.jsx("button",{onClick:n,className:"p-1 border-2 hover:bg-gray-500 dark:hover:bg-gray-700",children:e.jsx("span",{children:i?"▶":"◀"})}),l&&e.jsx("button",{onClick:l,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:e.jsx("span",{children:"✖"})})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto",children:e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:a.map(o=>e.jsx(f,{to:o.to,className:({isActive:d})=>`
                ${i?"justify-center":"justify-start"}
                flex items-center px-4 py-2 text-sm font-medium rounded-md
                ${d?`${t?"bg-gray-900 text-white":"bg-blue-100 text-blue-700"}`:`${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}
              `,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`${i?"mr-0":"mr-3"}`,children:o.icon}),!i&&e.jsx("span",{children:o.name})]})},o.to))})}),!i&&e.jsx("div",{className:`p-4 border-t ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:((r=s==null?void 0:s.name)==null?void 0:r.charAt(0))||"U"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium",children:(s==null?void 0:s.name)||"User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(s==null?void 0:s.email)||"user@example.com"})]})]})})]})},k=({onOpenSidebar:s,onLogout:i,userName:n,darkMode:l})=>{const[t,a]=c.useState(!1),r=c.useRef(null),{toggleTheme:o}=g();return c.useEffect(()=>{const d=m=>{r.current&&!r.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]),e.jsxs("header",{className:`relative z-10 flex-shrink-0 h-16 ${l?"bg-gray-800":"bg-white"} shadow-sm flex`,children:[e.jsxs("button",{type:"button",className:"lg:hidden px-4 text-gray-500 dark:text-gray-400 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:s,children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx("span",{className:"text-xl",children:"☰"})]}),e.jsxs("div",{className:"flex-1 flex justify-between px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex-1 flex items-center",children:e.jsxs("div",{className:"text-xl font-semibold",children:["Welcome, ",n||"User"]})}),e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsx("button",{type:"button",onClick:o,className:`p-2 rounded-full ${l?"bg-gray-700 text-yellow-300":"bg-gray-200 text-gray-700"} mr-3`,"aria-label":"Toggle dark mode",children:l?"🌙":"☀️"}),e.jsxs("button",{type:"button",className:"p-1 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx("span",{className:"text-xl",children:"🔔"})]}),e.jsxs("div",{className:"ml-3 relative",ref:r,children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>a(!t),className:"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",id:"user-menu","aria-expanded":"false","aria-haspopup":"true",children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-600 flex items-center justify-center",children:(n==null?void 0:n.charAt(0))||"U"})]})}),t&&e.jsxs("div",{className:`origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 ${l?"bg-gray-800":"bg-white"} ring-1 ring-black ring-opacity-5`,role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[e.jsx(x,{to:"/dashboard/profile",className:`block px-4 py-2 text-sm ${l?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",onClick:()=>a(!1),children:"Your Profile"}),e.jsx(x,{to:"/dashboard/settings",className:`block px-4 py-2 text-sm ${l?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",onClick:()=>a(!1),children:"Settings"}),e.jsx("button",{onClick:()=>{a(!1),i()},className:`w-full text-left block px-4 py-2 text-sm ${l?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,role:"menuitem",children:"Sign out"})]})]})]})]})]})},$=()=>{const[s,i]=c.useState({width:void 0,height:void 0});return c.useEffect(()=>{function n(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),s},E=()=>{const{currentUser:s,logout:i}=u(),{darkMode:n}=g(),[l,t]=c.useState(!1),{width:a}=$(),r=b(),o=y();c.useEffect(()=>{a<1024&&(t(!1),console.log("this one is for mobile"))},[o.pathname,a]),c.useEffect(()=>{a>=1024?(t(!0),console.log("this one is active")):a&&(t(!1),console.log("this one is mobile",a))},[a]);const d=()=>{i(),r("/login")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`h-screen flex overflow-hidden ${n?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${l&&a<1024?"block":"hidden"}`,"aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:()=>t(!1)}),e.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-gray-800 transition transform",children:e.jsx(h,{currentUser:s,onCloseSidebar:()=>t(!1),darkMode:n})})]}),e.jsx("div",{className:`lg:flex lg:flex-shrink-0 transition-all duration-300 ease-in-out ${l?"lg:w-64":"lg:w-20"} ${a>1023?"":"hidden"}`,children:e.jsx(h,{currentUser:s,isCollapsed:!l,onToggleSidebar:()=>t(!l),darkMode:n})}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(k,{onOpenSidebar:()=>t(!0),onLogout:d,userName:s==null?void 0:s.name,darkMode:n}),e.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:e.jsx(j,{})})})]})]})})};export{E as default};
