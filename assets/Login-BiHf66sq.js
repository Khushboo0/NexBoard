import{u as k,a as E,r as a,b as q,j as e,L as x}from"./index-Cl0b6VQE.js";import{u as L,o as P,c as R,a as h}from"./index.esm-DZz2EL6C.js";import{T as g,B as T}from"./TextInput-AbUgRdgY.js";import{A}from"./Alert-F4HMUHp4.js";const C=R().shape({email:h().email("Please enter valid email").required("Email is required"),password:h().required("Password is required").min(8,"Password must be 8 characters long")}),D=()=>{var c,u;const{login:p,error:t}=k(),{darkMode:s,toggleTheme:b}=E(),[f,l]=a.useState(!1),[o,m]=a.useState(""),[i,j]=a.useState(!1),y=q(),{register:d,handleSubmit:w,formState:{errors:n}}=L({resolver:P(C),mode:"onBlur"}),N=async r=>{l(!0),m("");try{await p(r,i),y("/dashboard")}catch(S){m(S.message||"Login failed")}finally{l(!1)}},v=()=>{j(r=>!r)};return e.jsx("div",{className:`flex items-center justify-center min-h-screen px-4 sm:px-6 lg:px-8 ${s?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold",children:"Sign in to your account"})}),(o||t)&&e.jsx(A,{type:"error",message:o||t}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w(N),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx(g,{id:"email",name:"email",type:"email",label:"Email Address",register:d,error:(c=n.email)==null?void 0:c.message,placeholder:"Email address",autoComplete:"email",required:!0}),e.jsx(g,{id:"password",name:"password",type:"password",label:"Password",register:d,error:(u=n.password)==null?void 0:u.message,placeholder:"Password",autoComplete:"current-password",required:!0,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:i,onChange:v,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(x,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx(T,{type:"submit",isLoading:f,fullWidth:!0,children:"Sign in"})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"mt-2 text-sm",children:["Don't have an account?"," ",e.jsx(x,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Register here"})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:b,className:`p-2 rounded-full ${s?"bg-gray-800 text-yellow-300":"bg-gray-200 text-gray-700"}`,"aria-label":"Toggle dark mode",children:s?"üåô":"‚òÄÔ∏è"})})]})})};export{D as default};
