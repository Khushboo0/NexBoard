import{u as v,a as P,r as h,b as q,j as e,L as C}from"./index-BSuu5w90.js";import{u as E,o as S,c as A,a,b as T}from"./index.esm-DKAyOZGg.js";import{T as t,B as $}from"./TextInput-CfSrUT2v.js";import{A as k}from"./Alert-BPZVTWTR.js";const L=A().shape({name:a().required("Name is required").min(2,"Name is too short"),email:a().email("Please enter a valid email").required("Email is required"),password:a().required("Password is required").min(8,"Password must be 8 characters long"),confirmPassword:a().oneOf([T("password"),null],"Passwords must match").required("Please confirm your password")}),M=()=>{var c,u,p,x;const{register:g,error:i}=v(),{darkMode:o,toggleTheme:w}=P(),[f,l]=h.useState(!1),[d,n]=h.useState(""),y=q(),{register:s,handleSubmit:b,formState:{errors:r}}=E({resolver:S(L),mode:"onBlur"}),j=async m=>{l(!0),n("");try{await g({name:m.name,email:m.email,password:m.password}),y("/dashboard")}catch(N){n(N.message||"Registration failed")}finally{l(!1)}};return e.jsx("div",{className:`flex items-center justify-center min-h-screen px-4 sm:px-6 lg:px-8 ${o?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold",children:"Create your account"})}),(d||i)&&e.jsx(k,{type:"error",message:d||i}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b(j),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx(t,{id:"name",name:"name",type:"text",label:"Name",register:s,error:(c=r.name)==null?void 0:c.message,placeholder:"Your full name",autoComplete:"name",required:!0}),e.jsx(t,{id:"email",name:"email",type:"email",label:"Email Address",register:s,error:(u=r.email)==null?void 0:u.message,placeholder:"Email address",autoComplete:"email",required:!0,className:"mt-2"}),e.jsx(t,{id:"password",name:"password",type:"password",label:"Password",register:s,error:(p=r.password)==null?void 0:p.message,placeholder:"Password",autoComplete:"new-password",required:!0,className:"mt-2"}),e.jsx(t,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",register:s,error:(x=r.confirmPassword)==null?void 0:x.message,placeholder:"Confirm password",autoComplete:"new-password",required:!0,className:"mt-2"})]}),e.jsx("div",{children:e.jsx($,{type:"submit",isLoading:f,fullWidth:!0,children:"Register"})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"mt-2 text-sm",children:["Already have an account?"," ",e.jsx(C,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:w,className:`p-2 rounded-full ${o?"bg-gray-800 text-yellow-300":"bg-gray-200 text-gray-700"}`,"aria-label":"Toggle dark mode",children:o?"üåô":"‚òÄÔ∏è"})})]})})};export{M as default};
